{"start":"root","states":{"MC_root":{"name":"MC_root","rules":[{"import":["MC_keywords"]},{"when":{"regex":"\"","flags":""},"tag":["dquote"],"highlight":"string","goto":"MC_dqstring"},{"when":{"regex":"'","flags":""},"tag":["squote"],"highlight":"string","goto":"MC_sqstring"},{"when":{"regex":"\\d+","flags":""},"tag":["digits"],"highlight":"number"},{"when":{"regex":"[_a-zA-Z$][_a-zA-Z$\\d]*","flags":""},"tag":["word"]},{"when":"=>","tag":["l_arrow"],"highlight":"keyword"},{"when":"!=","tag":["l_arrow"],"highlight":"keyword"},{"when":"==","tag":["l_eqeq"],"highlight":"keyword"},{"when":">=","tag":["l_gteq"],"highlight":"keyword"},{"when":"<=","tag":["l_lteq"],"highlight":"keyword"},{"when":"+=","tag":["l_add"],"highlight":"keyword"},{"when":"-=","tag":["l_sub"],"highlight":"keyword"},{"when":"/=","tag":["l_div"],"highlight":"keyword"},{"when":"%=","tag":["l_mod"],"highlight":"keyword"},{"when":"*=","tag":["l_mul"],"highlight":"keyword"},{"when":"...","tag":["l_spread"],"highlight":"keyword"},{"when":"..","tag":["l_concat"],"highlight":"keyword"},{"when":"=","tag":["l_eq"]},{"when":">","tag":["l_gt"],"highlight":"keyword"},{"when":"<","tag":["l_lt"],"highlight":"keyword"},{"when":"+","tag":["l_add"],"highlight":"keyword"},{"when":"-","tag":["l_sub"],"highlight":"keyword"},{"when":"/","tag":["l_div"],"highlight":"keyword"},{"when":"%","tag":["l_mod"],"highlight":"keyword"},{"when":"*","tag":["l_mul"],"highlight":"keyword"},{"when":"?","tag":["l_qmark"],"highlight":"keyword"},{"when":"^","tag":["l_exp"],"highlight":"keyword"},{"when":";","tag":["l_semi"],"highlight":"keyword"},{"when":":","tag":["l_col"],"highlight":"keyword"},{"when":"!","tag":["l_exc"],"highlight":"keyword"},{"when":".","tag":["l_dot"]},{"when":",","tag":["l_comma"],"highlight":"delimiter"},{"when":"(","tag":["l_lparen"],"highlight":"delimiter","inset":1},{"when":")","tag":["l_rparen"],"highlight":"delimiter","pop":1},{"when":"{","tag":["l_lcurly"],"highlight":"delimiter","inset":1},{"when":"}","tag":["l_rcurly"],"highlight":"delimiter","pop":1},{"when":"[","tag":["l_lbrack"],"highlight":"delimiter","inset":1},{"when":"]","tag":["l_rbrack"],"highlight":"delimiter","pop":1},{"when":{"regex":"\\s+","flags":""},"tag":["ws"]}]},"MC_keywords":{"name":"MC_keywords","rules":[{"when":{"regex":"\\@","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"set(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"var(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"const(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"asc(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"desc(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"function(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"true(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"false(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"null(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"any(?![a-zA-Z])","flags":""},"tag":["keyword","word"],"highlight":"keyword"},{"when":{"regex":"all(?![a-zA-Z])","flags":""},"tag":["keyword","word"],"highlight":"keyword"},{"when":{"regex":"within(?![a-zA-Z])","flags":""},"tag":["keyword","word"],"highlight":"keyword"},{"when":{"regex":"between(?![a-zA-Z])","flags":""},"tag":["keyword","word"],"highlight":"keyword"},{"when":{"regex":"and(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"or(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"on(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"if(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"match(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"default(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"in(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"else(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"for(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"like(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"not(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"while(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"until(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"to(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"do(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"run(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"return(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"query(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"scan(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"segment(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"filter(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"sort(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"aggregate(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"cluster(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"list(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"},{"when":{"regex":"first(?![a-zA-Z])","flags":""},"tag":["keyword"],"highlight":"keyword"}]},"MC_dqstring":{"name":"MC_dqstring","rules":[{"when":{"regex":"\\\\[\\/bnrft]","flags":""},"tag":["escaped"],"highlight":"constant"},{"when":{"regex":"\\\\\"","flags":""},"tag":["quoteEscape"]},{"when":{"regex":"\\\\u[A-Fa-f\\d]{4}","flags":""},"tag":["escaped"],"highlight":"constant"},{"when":{"regex":"\\\\.","flags":""},"tag":["badEscape"]},{"when":{"regex":"[^\"\\\\]+","flags":""},"tag":["string"],"highlight":"string"},{"when":"\"","tag":["dquote"],"highlight":"string","pop":1}]},"MC_sqstring":{"name":"MC_sqstring","rules":[{"when":{"regex":"\\\\[\\/bnrft]","flags":""},"tag":["escaped"]},{"when":{"regex":"\\\\'","flags":""},"tag":["quoteEscape"]},{"when":{"regex":"\\\\u[A-Fa-f\\d]{4}","flags":""},"tag":["escaped"]},{"when":{"regex":"\\\\.","flags":""},"tag":["badEscape"]},{"when":{"regex":"[^'\\\\]+","flags":""},"tag":["string"],"highlight":"string"},{"when":"'","tag":["squote"],"highlight":"string","pop":1}]},"JSON_whitespace":{"name":"JSON_whitespace","rules":[{"when":{"regex":"\\s+","flags":""},"tag":["whitespace"]}]},"JSON_json":{"name":"JSON_json","rules":[{"import":["JSON_whitespace"]},{"when":{"regex":"-?(?:[0-9]|[1-9][0-9]+)(?:\\.[0-9]+)?(?:[eE][-+]?[0-9]+)?\\b","flags":""},"tag":["number"]},{"when":{"regex":"\"(?:\\\\[\"bfnrt\\/\\\\]|\\\\u[a-fA-F0-9]{4}|[^\"\\\\])*\"","flags":""},"tag":["string"]},{"when":"{","tag":["{"]},{"when":"}","tag":["}"]},{"when":"[","tag":["["]},{"when":"]","tag":["]"]},{"when":",","tag":[","]},{"when":":","tag":[":"]},{"when":"true","tag":["true"]},{"when":"false","tag":["false"]},{"when":"null","tag":["null"]}]},"root":{"name":"root","rules":[{"import":["commentStart"]},{"when":{"regex":"<\\/","flags":""},"goto":"footTag"},{"when":{"regex":"<","flags":""},"goto":"headTag"},{"when":{"regex":"[^<]+","flags":""},"tag":["text"]}]},"headTag":{"name":"headTag","rules":[{"when":{"regex":"script(?![a-z_A-Z\\d\\-:!])","flags":""},"highlight":"tag","set":"scriptHeadTag"},{"when":{"regex":"style(?![a-z_A-Z\\d\\-:!])","flags":""},"tag":["word"],"highlight":"tag","set":"styleHeadTag"},{"when":{"regex":"output(?![a-z_A-Z\\d\\-:!])","flags":""},"tag":["word"],"highlight":"tag","set":"outputHeadTag"},{"when":{"regex":"[a-z_A-Z:!][a-z_A-Z\\d\\-:!]*","flags":""},"tag":["word"],"highlight":"tag","set":"stdHeadTag"}]},"footTag":{"name":"footTag","rules":[{"when":{"regex":"\\s+","flags":""},"tag":["space"]},{"when":{"regex":"[a-z_A-Z:!][a-z_A-Z\\d\\-:!]*","flags":""},"tag":["word"],"highlight":"tag"},{"when":">","pop":1}]},"attributes":{"name":"attributes","rules":[{"when":"/>","pop":1},{"when":{"regex":"[a-z_A-Z:!][a-z_A-Z\\d\\-:!]*","flags":""},"tag":["word"],"highlight":"attribute.name"},{"when":"="},{"when":"(","goto":"MC_root"},{"import":["json"]}]},"stdHeadTag":{"name":"stdHeadTag","rules":[{"import":["attributes"]},{"when":">","pop":1}]},"scriptHeadTag":{"name":"scriptHeadTag","rules":[{"import":["attributes"]},{"when":">","set":"scriptBody"}]},"scriptBody":{"name":"scriptBody","rules":[{"when":"</script>","before":true,"pop":1},{"import":["MC_root"]}]},"styleHeadTag":{"name":"styleHeadTag","rules":[{"import":["attributes"]},{"when":">","set":"styleBody","embed":"text/css"}]},"styleBody":{"name":"styleBody","rules":[{"when":"</style>","before":true,"pop":1,"unembed":true}],"unmatched":"text"},"outputHeadTag":{"name":"outputHeadTag","rules":[{"when":{"regex":"content\\s*=\\s*\"html\"","flags":""},"before":true,"set":"outputHeadHTMLTag"},{"when":{"regex":"content\\s*=\\s*\"json\"","flags":""},"before":true,"set":"outputHeadJSONTag"},{"when":{"regex":"content\\s*=\\s*\"xml\"","flags":""},"before":true,"set":"outputHeadXMLTag"},{"when":{"regex":"content\\s*=\\s*\"script\"","flags":""},"before":true,"set":"outputHeadScriptTag"},{"import":["attributes"]},{"when":">","set":"outputBody"}]},"outputHeadScriptTag":{"name":"outputHeadScriptTag","rules":[{"import":["attributes"]},{"when":">","set":"outputScriptBody"}]},"outputScriptBody":{"name":"outputScriptBody","rules":[{"when":"</output>","before":true,"pop":1},{"import":["MC_root"]}]},"outputHeadHTMLTag":{"name":"outputHeadHTMLTag","rules":[{"import":["attributes"]},{"when":">","set":"outputEmbedBody","embed":"text/html"}]},"outputHeadXMLTag":{"name":"outputHeadXMLTag","rules":[{"import":["attributes"]},{"when":">","set":"outputEmbedBody","embed":"text/xml"}]},"outputHeadJSONTag":{"name":"outputHeadJSONTag","rules":[{"import":["attributes"]},{"when":">","set":"outputHeadJSONBody"}]},"outputHeadJSONBody":{"name":"outputHeadJSONBody","rules":[{"when":"</output>","before":true,"pop":1},{"import":["json"]}]},"outputBody":{"name":"outputBody","rules":[{"when":"</output>","before":true,"pop":1}],"unmatched":"text"},"outputEmbedBody":{"name":"outputEmbedBody","rules":[{"when":"</output>","before":true,"pop":1,"unembed":true}],"unmatched":"text"},"commentStart":{"name":"commentStart","rules":[{"when":"<!--","tag":["commentStart"],"goto":"commentEnd"}]},"commentEnd":{"name":"commentEnd","rules":[{"when":"-->","tag":["commentEnd"],"pop":1}],"unmatched":"text"},"json":{"name":"json","rules":[{"when":{"regex":"\\s+","flags":""},"tag":["space"]},{"when":{"regex":"-?(?:[0-9]|[1-9][0-9]+)(?:\\.[0-9]+)?(?:[eE][-+]?[0-9]+)?\\b","flags":""},"tag":["number"],"highlight":"number"},{"when":{"regex":"\"","flags":""},"tag":["dquote"],"highlight":"attribute.value","goto":"json_string"},{"when":"{","inset":1},{"when":"}","pop":1},{"when":"[","inset":1},{"when":"]","pop":1},{"when":","},{"when":":"},{"when":"true","highlight":"keyword"},{"when":"false","highlight":"keyword"},{"when":"null","highlight":"keyword"}]},"json_string":{"name":"json_string","rules":[{"when":{"regex":"\\\\[\\/bnrft]","flags":""},"tag":["escaped"],"highlight":"constant"},{"when":{"regex":"\\\\\"","flags":""},"tag":["quoteEscape"]},{"when":{"regex":"\\\\u[A-Fa-f\\d]{4}","flags":""},"tag":["escaped"],"highlight":"constant"},{"when":{"regex":"\\\\.","flags":""},"tag":["badEscape"]},{"when":{"regex":"[^\"\\\\]+","flags":""},"tag":["string"],"highlight":"attribute.value"},{"when":{"regex":"\"","flags":""},"tag":["dquote"],"highlight":"attribute.value","pop":1}]}}}